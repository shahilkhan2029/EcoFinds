<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Property Details - Rantel Real Estate Portal</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Custom CSS -->
    <link href="css/style.css" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
        <div class="container">
            <a class="navbar-brand" href="index.html">Rantel Real Estate</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav me-auto">
                    <li class="nav-item">
                        <a class="nav-link" href="index.html">Home</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="buy-property.html">Buy</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="rent-property.html">Rent</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="agents.html">Agents</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="contact.html">Contact</a>
                    </li>
                </ul>
                <div class="d-flex" id="authButtons">
                    <a href="login.html" class="btn btn-outline-primary me-2">Login</a>
                    <a href="signup.html" class="btn btn-primary">Sign Up</a>
                </div>
                <div class="d-none" id="userMenu">
                    <div class="dropdown">
                        <button class="btn btn-outline-primary dropdown-toggle" type="button" id="userDropdown" data-bs-toggle="dropdown">
                            <span id="userName">User</span>
                        </button>
                        <ul class="dropdown-menu dropdown-menu-end">
                            <li><a class="dropdown-item" href="profile.html">Profile</a></li>
                            <li><a class="dropdown-item" href="my-properties.html">My Properties</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="#" id="logoutBtn">Logout</a></li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Property Details Section -->
    <section class="py-5 mt-5">
        <div class="container">
            <div class="row">
                <!-- Property Gallery -->
                <div class="col-lg-8">
                    <div class="product-details">
                        <div class="product-gallery">
                            <div class="main-image">
                                <img id="mainImage" src="" alt="Product Image">
                            </div>
                            <div class="thumbnail-list" id="thumbnailList">
                                <!-- Thumbnails will be populated dynamically -->
                            </div>
                        </div>

                        <div class="product-info">
                            <h1 id="productTitle"></h1>
                            <div class="product-meta">
                                <span class="category" id="productCategory"></span>
                                <span class="rating" id="productRating"></span>
                            </div>
                            <div class="product-price">
                                <span class="price" id="productPrice"></span>
                            </div>
                            <div class="product-description" id="productDescription">
                                <!-- Description will be populated dynamically -->
                            </div>
                            <div class="product-features">
                                <h3>Product Features</h3>
                                <ul id="productFeatures">
                                    <!-- Features will be populated dynamically -->
                                </ul>
                            </div>
                            <div class="sustainability-info">
                                <h3>Sustainability Information</h3>
                                <div class="sustainability-badges" id="sustainabilityBadges">
                                    <!-- Badges will be populated dynamically -->
                                </div>
                            </div>
                            <div class="seller-info">
                                <h3>Seller Information</h3>
                                <div class="seller-details" id="sellerDetails">
                                    <!-- Seller details will be populated dynamically -->
                                </div>
                            </div>
                            <div class="action-buttons">
                                <button class="add-to-cart-btn">Add to Cart</button>
                                <button class="contact-seller-btn">Contact Seller</button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Property Info -->
                <div class="col-lg-4">
                    <div class="property-info">
                        <h1 id="propertyTitle" class="mb-3"></h1>
                        <p class="price h3 mb-4" id="propertyPrice"></p>
                        <div class="features mb-4">
                            <div class="row">
                                <div class="col-6 mb-3">
                                    <i class="fas fa-bed me-2"></i>
                                    <span id="bedrooms"></span> Bedrooms
                                </div>
                                <div class="col-6 mb-3">
                                    <i class="fas fa-bath me-2"></i>
                                    <span id="bathrooms"></span> Bathrooms
                                </div>
                                <div class="col-6 mb-3">
                                    <i class="fas fa-ruler-combined me-2"></i>
                                    <span id="area"></span> sqft
                                </div>
                                <div class="col-6 mb-3">
                                    <i class="fas fa-map-marker-alt me-2"></i>
                                    <span id="location"></span>
                                </div>
                            </div>
                        </div>
                        <div class="d-grid gap-2">
                            <button class="btn btn-primary" id="contactAgentBtn">
                                <i class="fas fa-phone me-2"></i> Contact Agent
                            </button>
                            <button class="btn btn-outline-primary" id="scheduleViewingBtn">
                                <i class="fas fa-calendar me-2"></i> Schedule Viewing
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Property Description -->
            <div class="row mt-5">
                <div class="col-12">
                    <div class="card">
                        <div class="card-body">
                            <h3 class="card-title mb-4">Description</h3>
                            <p id="propertyDescription" class="card-text"></p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Property Features -->
            <div class="row mt-4">
                <div class="col-12">
                    <div class="card">
                        <div class="card-body">
                            <h3 class="card-title mb-4">Features & Amenities</h3>
                            <div class="row" id="amenitiesList">
                                <!-- Amenities will be loaded dynamically -->
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Agent Information -->
            <div class="row mt-4">
                <div class="col-12">
                    <div class="card">
                        <div class="card-body">
                            <h3 class="card-title mb-4">Agent Information</h3>
                            <div class="row align-items-center">
                                <div class="col-md-2">
                                    <img src="" alt="Agent" class="img-fluid rounded-circle" id="agentImage">
                                </div>
                                <div class="col-md-10">
                                    <h4 id="agentName"></h4>
                                    <p class="text-muted" id="agentPhone"></p>
                                    <p id="agentBio"></p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="related-products">
                <h2>Related Products</h2>
                <div class="product-grid" id="relatedProducts">
                    <!-- Related products will be populated dynamically -->
                </div>
            </div>
        </div>
    </section>

    <!-- Contact Agent Modal -->
    <div class="modal fade" id="contactAgentModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Contact Agent</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="contactAgentForm">
                        <div class="mb-3">
                            <label for="name" class="form-label">Your Name</label>
                            <input type="text" class="form-control" id="name" required>
                        </div>
                        <div class="mb-3">
                            <label for="email" class="form-label">Email Address</label>
                            <input type="email" class="form-control" id="email" required>
                        </div>
                        <div class="mb-3">
                            <label for="phone" class="form-label">Phone Number</label>
                            <input type="tel" class="form-control" id="phone" required>
                        </div>
                        <div class="mb-3">
                            <label for="message" class="form-label">Message</label>
                            <textarea class="form-control" id="message" rows="4" required></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary w-100">Send Message</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Schedule Viewing Modal -->
    <div class="modal fade" id="scheduleViewingModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">Schedule Viewing</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="scheduleViewingForm">
                        <div class="mb-3">
                            <label for="viewingName" class="form-label">Your Name</label>
                            <input type="text" class="form-control" id="viewingName" required>
                        </div>
                        <div class="mb-3">
                            <label for="viewingEmail" class="form-label">Email Address</label>
                            <input type="email" class="form-control" id="viewingEmail" required>
                        </div>
                        <div class="mb-3">
                            <label for="viewingPhone" class="form-label">Phone Number</label>
                            <input type="tel" class="form-control" id="viewingPhone" required>
                        </div>
                        <div class="mb-3">
                            <label for="viewingDate" class="form-label">Preferred Date</label>
                            <input type="date" class="form-control" id="viewingDate" required>
                        </div>
                        <div class="mb-3">
                            <label for="viewingTime" class="form-label">Preferred Time</label>
                            <input type="time" class="form-control" id="viewingTime" required>
                        </div>
                        <div class="mb-3">
                            <label for="viewingNotes" class="form-label">Additional Notes</label>
                            <textarea class="form-control" id="viewingNotes" rows="3"></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary w-100">Schedule Viewing</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="bg-dark text-white py-4">
        <div class="container">
            <div class="row">
                <div class="col-md-4">
                    <h5>Rantel Real Estate</h5>
                    <p>Your trusted partner in finding the perfect property.</p>
                </div>
                <div class="col-md-4">
                    <h5>Quick Links</h5>
                    <ul class="list-unstyled">
                        <li><a href="about.html" class="text-white">About Us</a></li>
                        <li><a href="contact.html" class="text-white">Contact</a></li>
                        <li><a href="privacy.html" class="text-white">Privacy Policy</a></li>
                        <li><a href="terms.html" class="text-white">Terms of Service</a></li>
                    </ul>
                </div>
                <div class="col-md-4">
                    <h5>Contact Us</h5>
                    <ul class="list-unstyled">
                        <li><i class="fas fa-phone me-2"></i> +1 234 567 890</li>
                        <li><i class="fas fa-envelope me-2"></i> info@rantel.com</li>
                        <li><i class="fas fa-map-marker-alt me-2"></i> 123 Real Estate St, City</li>
                    </ul>
                </div>
            </div>
            <hr>
            <div class="text-center">
                <p class="mb-0">&copy; 2024 Rantel Real Estate. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <!-- Custom JS -->
    <script src="js/auth.js"></script>
    <script src="js/properties.js"></script>
    <script src="js/main.js"></script>
    <script>
        // Load property details
        document.addEventListener('DOMContentLoaded', async () => {
            const urlParams = new URLSearchParams(window.location.search);
            const propertyId = urlParams.get('id');

            if (propertyId) {
                try {
                    // In a real application, this would be an API call
                    const property = await getPropertyDetails(propertyId);
                    displayPropertyDetails(property);
                } catch (error) {
                    console.error('Error loading property details:', error);
                }
            }

            // Add event listeners for modals
            document.getElementById('contactAgentBtn').addEventListener('click', () => {
                new bootstrap.Modal(document.getElementById('contactAgentModal')).show();
            });

            document.getElementById('scheduleViewingBtn').addEventListener('click', () => {
                new bootstrap.Modal(document.getElementById('scheduleViewingModal')).show();
            });
        });

        // Mock function to get property details (replace with actual API call)
        async function getPropertyDetails(id) {
            return {
                id: id,
                title: 'Modern Apartment in Downtown',
                price: 2500,
                type: 'rent',
                bedrooms: 2,
                bathrooms: 2,
                area: 1200,
                location: 'Downtown',
                description: 'Beautiful modern apartment with stunning city views. This spacious apartment features an open floor plan, high ceilings, and large windows that let in plenty of natural light. The kitchen is equipped with modern appliances and plenty of storage space. The master bedroom includes a walk-in closet and en-suite bathroom.',
                amenities: ['Parking', 'Gym', 'Pool', 'Security', 'Air Conditioning', 'High-Speed Internet'],
                main_image: 'images/property1.jpg',
                gallery_images: [
                    'images/property1.jpg',
                    'images/property1-2.jpg',
                    'images/property1-3.jpg',
                    'images/property1-4.jpg'
                ],
                agent: {
                    name: 'John Doe',
                    phone: '+1 234 567 890',
                    email: 'john@example.com',
                    image: 'images/agent1.jpg',
                    bio: 'Experienced real estate agent with over 10 years in the industry.'
                }
            };
        }

        // Display property details
        function displayPropertyDetails(property) {
            // Set main content
            document.getElementById('propertyTitle').textContent = property.title;
            document.getElementById('propertyPrice').textContent = formatCurrency(property.price);
            document.getElementById('bedrooms').textContent = property.bedrooms;
            document.getElementById('bathrooms').textContent = property.bathrooms;
            document.getElementById('area').textContent = property.area;
            document.getElementById('location').textContent = property.location;
            document.getElementById('propertyDescription').textContent = property.description;

            // Set main image
            const mainImage = document.getElementById('mainImage');
            mainImage.src = property.main_image;
            mainImage.alt = property.title;

            // Create thumbnails
            const thumbnailGallery = document.getElementById('thumbnailGallery');
            thumbnailGallery.innerHTML = property.gallery_images.map((image, index) => `
                <div class="col-3">
                    <img src="${image}" alt="Property Image ${index + 1}" class="img-fluid thumbnail" onclick="changeMainImage(this.src)">
                </div>
            `).join('');

            // Create amenities list
            const amenitiesList = document.getElementById('amenitiesList');
            amenitiesList.innerHTML = property.amenities.map(amenity => `
                <div class="col-md-4 mb-2">
                    <i class="fas fa-check text-success me-2"></i> ${amenity}
                </div>
            `).join('');

            // Set agent information
            document.getElementById('agentName').textContent = property.agent.name;
            document.getElementById('agentPhone').textContent = property.agent.phone;
            document.getElementById('agentBio').textContent = property.agent.bio;
            document.getElementById('agentImage').src = property.agent.image;
        }

        // Change main image
        function changeMainImage(src) {
            document.getElementById('mainImage').src = src;
        }
    </script>
</body>
</html> 